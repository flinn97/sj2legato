{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/homework.js\";\nimport React, { Component } from 'react';\nimport Checkedd from './components/checkbox';\nimport studentService from '../services/studentService';\nimport authService from '../services/auth.service';\nimport Addhomework from './popups/addhomework';\nimport Times from './popups/times';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Homework extends Component {\n  constructor(props) {\n    //create state\n    super(props);\n    this.handlehomework = this.handlehomework.bind(this);\n    this.cleartimeorchecks = this.cleartimeorchecks.bind(this);\n    this.state = {\n      homeworks: undefined\n    };\n  }\n\n  async handlehomework(homework, myswitch) {\n    let homeworks = studentService.updateAdddelhomework(homework, this.props.state.currentstudent.homeworks, myswitch);\n    await this.props.dispatch({\n      [this.props.state.currentstudent.homeworks]: homeworks,\n      addhomework: false,\n      showhomework: false\n    });\n    authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, {\n      homeworks: homeworks\n    });\n  }\n\n  async cleartimeorchecks(time) {\n    let timeorchecks = time ? this.props.state.currentstudent.hwtime : this.props.state.currentstudent.syncedCheckboxes;\n\n    for (const key in timeorchecks) {\n      timeorchecks[key] = false;\n    }\n\n    await this.props.dispatch(time ? {\n      [this.props.state.currentstudent.hwtime]: timeorchecks\n    } : {\n      [this.props.state.currentstudent.syncedCheckboxes]: timeorchecks\n    });\n    authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, time ? {\n      hwtime: timeorchecks\n    } : {\n      syncedCheckboxes: timeorchecks\n    });\n  }\n\n  render() {\n    var _this$props$state$cur;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bigcard\",\n      children: [this.props.state.addtime && /*#__PURE__*/_jsxDEV(Times, {\n        state: this.props.state,\n        handlehomework: this.handlehomework,\n        handleClose: this.props.dispatch.bind(this, {\n          addtime: false,\n          timeadded: \"0\",\n          dayfortimepopup: \"\"\n        }),\n        handleChange: this.props.handleChange,\n        dispatch: this.props.dispatch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 67\n      }, this), this.props.state.addhomework && /*#__PURE__*/_jsxDEV(Addhomework, {\n        state: this.props.state,\n        homework: this.props.state.homework,\n        handlehomework: this.handlehomework,\n        handleClose: this.props.dispatch.bind(this, {\n          addhomework: false,\n          title: \"\",\n          description: \"\"\n        }),\n        handleChange: this.props.handleChange,\n        dispatch: this.props.dispatch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Homework\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn  btn-block\",\n          onClick: this.props.dispatch.bind(this, {\n            addhomework: true,\n            showhomework: false\n          }),\n          style: {\n            background: \"#696eb5\",\n            height: \"30px\",\n            color: \"#F0F2EF\",\n            width: \"200px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: \"+ Homework\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn  btn-block\",\n          onClick: this.props.dispatch.bind(this, {\n            addtime: true\n          }),\n          style: {\n            background: \"#696eb5\",\n            height: \"30px\",\n            color: \"#F0F2EF\",\n            width: \"200px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: \"+ Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Checkedd, {\n          size: this.props.state.styles.checkbox.size1,\n          state: this.props.state,\n          student: this.props.state.currentstudent,\n          handleChange: this.props.handleChange,\n          dispatch: this.props.dispatch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 16\n        }, this), (_this$props$state$cur = this.props.state.currentstudent) === null || _this$props$state$cur === void 0 ? void 0 : _this$props$state$cur.homeworks.map((homework, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: this.props.dispatch.bind(this, {\n              addhomework: true,\n              showhomework: true,\n              homework: homework\n            }),\n            children: [homework.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 102\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: this.handlehomework.bind(this, homework, \"delhomework\"),\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 229\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 85\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Homework;","map":{"version":3,"sources":["/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/homework.js"],"names":["React","Component","Checkedd","studentService","authService","Addhomework","Times","Homework","constructor","props","handlehomework","bind","cleartimeorchecks","state","homeworks","undefined","homework","myswitch","updateAdddelhomework","currentstudent","dispatch","addhomework","showhomework","changeData","_id","currentuser","time","timeorchecks","hwtime","syncedCheckboxes","key","render","addtime","timeadded","dayfortimepopup","handleChange","title","description","display","flexDirection","background","height","color","width","justifyContent","alignItems","styles","checkbox","size1","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Checkedd from './components/checkbox';\r\nimport studentService from '../services/studentService';\r\nimport authService from '../services/auth.service';\r\nimport Addhomework from './popups/addhomework';\r\nimport Times from './popups/times';\r\nclass Homework extends Component {\r\n    constructor(props) {\r\n        \r\n        //create state\r\n        super(props);\r\n        this.handlehomework= this.handlehomework.bind(this)\r\n        this.cleartimeorchecks= this.cleartimeorchecks.bind(this)\r\n\r\n        this.state = {\r\n            homeworks: undefined\r\n        };\r\n    }\r\n    async handlehomework(homework, myswitch){\r\n        let homeworks =  studentService.updateAdddelhomework(homework, this.props.state.currentstudent.homeworks,  myswitch);\r\n         await this.props.dispatch({[this.props.state.currentstudent.homeworks]:homeworks, addhomework:false, showhomework:false})\r\n        authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, {homeworks: homeworks,})\r\n    }\r\n    async cleartimeorchecks(time){\r\n        let timeorchecks=time?  this.props.state.currentstudent.hwtime :this.props.state.currentstudent.syncedCheckboxes\r\n        for(const key in timeorchecks){\r\n            timeorchecks[key]=false\r\n        }\r\n         await this.props.dispatch(time?{[this.props.state.currentstudent.hwtime]:timeorchecks} : {[this.props.state.currentstudent.syncedCheckboxes]:timeorchecks,})\r\n        authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, time?{ hwtime: timeorchecks}:{syncedCheckboxes: timeorchecks,})\r\n    }\r\n\r\n    render() {\r\n       \r\n\r\n        return (\r\n            <div className=\"bigcard\" >\r\n                                    {this.props.state.addtime && (<Times state={this.props.state} handlehomework={this.handlehomework} handleClose={this.props.dispatch.bind(this, {addtime:false, timeadded:\"0\", dayfortimepopup:\"\", })} handleChange={this.props.handleChange} dispatch={this.props.dispatch}/>)}\r\n                                {this.props.state.addhomework && (<Addhomework state={this.props.state} homework={this.props.state.homework} handlehomework={this.handlehomework} handleClose={this.props.dispatch.bind(this, {addhomework:false, title:\"\", description:\"\"})} handleChange={this.props.handleChange} dispatch={this.props.dispatch}/>)}\r\n            <h3>Homework</h3>\r\n            <div style={{display:\"flex\", flexDirection:\"column\"}}>\r\n            <button  className=\"btn  btn-block\"  onClick={this.props.dispatch.bind(this, {addhomework:true, showhomework:false})} style={{ background: \"#696eb5\", height: \"30px\", color: \"#F0F2EF\", width: \"200px\", display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", alignItems:\"center\"}}>+ Homework</button>\r\n            <button  className=\"btn  btn-block\"  onClick={this.props.dispatch.bind(this, {addtime:true,})} style={{ background: \"#696eb5\", height: \"30px\", color: \"#F0F2EF\", width: \"200px\", display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", alignItems:\"center\"}}>+ Time</button>\r\n\r\n               <Checkedd size={this.props.state.styles.checkbox.size1} state={this.props.state} student={this.props.state.currentstudent} handleChange={this.props.handleChange} dispatch={this.props.dispatch}/>\r\n               {this.props.state.currentstudent?.homeworks.map((homework, index) => <div key={index}><div onClick={this.props.dispatch.bind(this, {addhomework:true, showhomework:true, homework:homework})}>{homework.title} </div><p onClick={this.handlehomework.bind(this, homework, \"delhomework\")}>delete</p></div>)}\r\n            </div>\r\n            </div>\r\n\r\n               \r\n        );\r\n    }\r\n}\r\n\r\nexport default Homework;"]},"metadata":{},"sourceType":"module"}