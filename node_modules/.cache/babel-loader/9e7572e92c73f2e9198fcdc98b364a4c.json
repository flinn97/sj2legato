{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/notes.js\";\nimport React, { Component } from 'react';\nimport studentService from '../services/studentService';\nimport authService from '../services/auth.service';\nimport Newnote from './newnote';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Notes extends Component {\n  constructor(props) {\n    //create state\n    super(props);\n    this.handlenotes = this.handlenotes.bind(this);\n    this.state = {};\n  }\n\n  async handlenotes(note, myswitch) {\n    debugger;\n    let mynote = note ? note : {\n      id: Date.now(),\n      description: this.props.state.description,\n      date: Date.now()\n    };\n    let mynotes = await studentService.updateAddDelnotes(mynote, this.props.state.currentstudent.notes, myswitch);\n    debugger;\n    await this.props.dispatch({\n      [this.props.state.currentstudent.notes]: mynotes,\n      addnote: false\n    });\n    authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, {\n      notes: mynotes\n    });\n  }\n\n  render() {\n    var _this$props$state$cur;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"smallcardbottomRight\",\n      style: {\n        marginTop: this.props.state.styles.margins.margin1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn  btn-block\",\n          onClick: this.props.dispatch.bind(this, {\n            addnote: true\n          }),\n          style: {\n            background: \"#696eb5\",\n            height: \"30px\",\n            color: \"#F0F2EF\",\n            width: \"200px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: \"+ Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), this.props.state.addnote ? /*#__PURE__*/_jsxDEV(Newnote, {\n          myswitch: \"addnote\",\n          handleclose: this.props.dispatch.bind(this, {\n            addnote: false,\n            editnote: false\n          }),\n          handlenotes: this.handlenotes,\n          state: this.props.state,\n          handleChange: this.props.handleChange,\n          dispatch: this.props.dispatch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 40\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 276\n        }, this), (_this$props$state$cur = this.props.state.currentstudent) === null || _this$props$state$cur === void 0 ? void 0 : _this$props$state$cur.notes.map((note, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.props.state.editnote ? /*#__PURE__*/_jsxDEV(Newnote, {\n            myswitch: \"updatenote\",\n            handleclose: this.props.dispatch.bind(this, {\n              addnote: false,\n              editnote: false\n            }),\n            handlenotes: this.handlenotes,\n            state: this.props.state,\n            handleChange: this.props.handleChange,\n            dispatch: this.props.dispatch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 119\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: this.props.dispatch.bind(this, {\n                editnote: true\n              }),\n              children: [note.description, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: this.handlenotes.bind(this, note, \"delnote\"),\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 111\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 14\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 74\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Notes;","map":{"version":3,"sources":["/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/notes.js"],"names":["React","Component","studentService","authService","Newnote","Notes","constructor","props","handlenotes","bind","state","note","myswitch","mynote","id","Date","now","description","date","mynotes","updateAddDelnotes","currentstudent","notes","dispatch","addnote","changeData","_id","currentuser","render","marginTop","styles","margins","margin1","display","flexDirection","background","height","color","width","justifyContent","alignItems","editnote","handleChange","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport studentService from '../services/studentService';\r\nimport authService from '../services/auth.service';\r\nimport Newnote from './newnote';\r\nclass Notes extends Component {\r\n    constructor(props) {\r\n        //create state\r\n        super(props);\r\n        this.handlenotes=this.handlenotes.bind(this);\r\n\r\n        this.state = {\r\n            \r\n        };\r\n    }\r\n    \r\n    async handlenotes(note, myswitch){\r\n        debugger\r\n        let mynote = note? note :{\r\n            id: Date.now(),\r\n            description: this.props.state.description,\r\n            date: Date.now(),\r\n            }\r\n        \r\n        let mynotes =  await studentService.updateAddDelnotes(mynote, this.props.state.currentstudent.notes,  myswitch)\r\n        debugger;\r\n         await this.props.dispatch({[this.props.state.currentstudent.notes]:mynotes, addnote:false })\r\n        authService.changeData(\"student\", this.props.state.currentstudent._id, this.props.state.currentuser._id, {notes: mynotes})\r\n    }\r\n    render() {\r\n       \r\n\r\n        return (\r\n            <div className=\"smallcardbottomRight\" style={{marginTop:this.props.state.styles.margins.margin1}}>\r\n            <h3>Notes</h3>\r\n            <div style={{display:\"flex\", flexDirection:\"column\"}}>\r\n            <button  className=\"btn  btn-block\"  onClick={this.props.dispatch.bind(this, {addnote:true})} style={{ background: \"#696eb5\", height: \"30px\", color: \"#F0F2EF\", width: \"200px\", display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", alignItems:\"center\"}}>+ Notes</button>\r\n            {this.props.state.addnote?(<Newnote myswitch=\"addnote\" handleclose={this.props.dispatch.bind(this, {addnote:false, editnote:false})} handlenotes={this.handlenotes} state={this.props.state} handleChange={this.props.handleChange} dispatch={this.props.dispatch}/>):(<div></div>)}\r\n            {this.props.state.currentstudent?.notes.map((note, index) => <div key={index}>{this.props.state.editnote?(<Newnote  myswitch=\"updatenote\" handleclose={this.props.dispatch.bind(this, {addnote:false, editnote:false})} handlenotes={this.handlenotes} state={this.props.state} handleChange={this.props.handleChange} dispatch={this.props.dispatch}/>):\r\n            (<div><div onClick={this.props.dispatch.bind(this, {editnote: true, })} >{note.description} </div><p onClick={this.handlenotes.bind(this, note, \"delnote\")}>delete</p></div>)}</div>)}\r\n\r\n            </div>\r\n            </div>\r\n\r\n               \r\n        );\r\n    }\r\n}\r\n\r\nexport default Notes;"]},"metadata":{},"sourceType":"module"}