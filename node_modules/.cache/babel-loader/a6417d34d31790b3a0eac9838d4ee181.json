{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/signin.js\";\nimport React, { Component } from \"react\";\nimport AuthService from \"../services/auth.service\";\nimport Student from \"./mystudents\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  async componentDidMount() {\n    let auth = await AuthService.getCurrentUser();\n\n    if (auth) {\n      console.log(auth);\n\n      if (auth.role === \"teacher\") {\n        this.props.handleLogin({\n          currentuser: auth,\n          role: auth.role\n        });\n      }\n\n      if (auth.role === \"student\") {\n        debugger;\n        this.props.handleLogin({\n          currentuser: auth,\n          role: auth.role,\n          currentstudent: auth,\n          myswitch: \"student\"\n        });\n      }\n\n      if (auth.role === \"admin\") {\n        this.props.handleLogin({\n          currentuser: auth,\n          role: auth.role\n        });\n      }\n    }\n  } //state creation and binding.\n\n\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleChange = this.handleChange.bind(this); //this.onChangePassword = this.onChangePassword.bind(this);\n\n    this.state = {};\n  } //handles all changes with state.\n\n\n  //submites for login using the controller to connect with backend. Sends to the teacher profile if teacher or the student if back end spits out student.\n  async handleLogin(e) {\n    e.preventDefault(); // if (!this.state.email || !this.state.password) {\n    //     this.setState({\n    //         message:\"Please include correct email and password\"\n    //     })\n    // } \n\n    var lower = this.props.state.email.toLowerCase();\n    let data = await AuthService.login(lower, this.props.state.password);\n    debugger;\n    this.props.handleLogin({\n      currentuser: data,\n      currentstudent: data.role = \"student\" ? data : undefined,\n      role: data.role,\n      myswitch: data.role === \"student\" ? \"student\" : \"dash\"\n    });\n  }\n\n  render() {\n    //login page for the screen. \n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n            alt: \"profile-img\",\n            className: \"profile-img-card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"email\",\n              value: this.props.state.email,\n              onChange: this.props.handleChange,\n              maxLength: \"30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              name: \"password\",\n              value: this.props.state.password,\n              onChange: this.props.handleChange,\n              maxLength: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginTop: \"37px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn  btn-block\",\n              style: {\n                background: \"#696eb5\",\n                height: \"35px\",\n                color: \"#F0F2EF\",\n                width: \"85spx\"\n              },\n              onClick: this.handleLogin,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/view/signin.js"],"names":["React","Component","AuthService","Student","Login","componentDidMount","auth","getCurrentUser","console","log","role","props","handleLogin","currentuser","currentstudent","myswitch","constructor","handleChange","event","name","value","target","setState","bind","state","e","preventDefault","lower","email","toLowerCase","data","login","password","undefined","render","marginTop","background","height","color","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport Student from \"./mystudents\";\r\n\r\n\r\n\r\nexport default class Login extends Component {\r\n    async componentDidMount() {\r\n        let auth = await AuthService.getCurrentUser();\r\n        if (auth) {\r\n            console.log(auth)\r\n            if (auth.role === \"teacher\") {\r\n                this.props.handleLogin({currentuser:auth, role:auth.role, })\r\n            }\r\n            if (auth.role === \"student\") {\r\n                debugger\r\n                this.props.handleLogin({currentuser:auth, role:auth.role,  currentstudent:auth, myswitch:\"student\"})\r\n\r\n            }\r\n            if(auth.role===\"admin\"){\r\n                this.props.handleLogin({currentuser:auth, role:auth.role, })\r\n\r\n            }\r\n        }\r\n    }\r\n    //state creation and binding.\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        //this.onChangePassword = this.onChangePassword.bind(this);\r\n\r\n        this.state = {\r\n            \r\n           \r\n        };\r\n    }\r\n    //handles all changes with state.\r\n    handleChange = (event) => {\r\n        const { name, value } = event.target\r\n\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n    //submites for login using the controller to connect with backend. Sends to the teacher profile if teacher or the student if back end spits out student.\r\n    async handleLogin(e,) {\r\n        e.preventDefault();\r\n\r\n            // if (!this.state.email || !this.state.password) {\r\n            //     this.setState({\r\n            //         message:\"Please include correct email and password\"\r\n            //     })\r\n            // } \r\n                var lower = this.props.state.email.toLowerCase();\r\n            let data = await AuthService.login(lower, this.props.state.password)\r\n            debugger\r\n                this.props.handleLogin({\r\n                    currentuser:data, \r\n                    currentstudent:data.role=\"student\"?data:undefined, \r\n                    role:data.role, \r\n                    myswitch: data.role===\"student\"? \"student\": \"dash\"})\r\n               \r\n                \r\n              \r\n    \r\n    }\r\n\r\n    render() {\r\n        //login page for the screen. \r\n        return (\r\n            <div >\r\n            <div className=\"col-md-12\">\r\n                <div className=\"card card-container\">\r\n                    <img src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\" alt=\"profile-img\" className=\"profile-img-card\"/>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"Email\">Email</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"email\"\r\n                                        value={this.props.state.email}\r\n                                        onChange={this.props.handleChange}\r\n                                        maxLength=\"30\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"password\">Password</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        name=\"password\"\r\n                                        value={this.props.state.password}\r\n                                        onChange={this.props.handleChange}\r\n                                        maxLength=\"20\"\r\n\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\" style={{marginTop:\"37px\"}}>\r\n                                    <button className=\"btn  btn-block\" style={{ background: \"#696eb5\", height: \"35px\", color: \"#F0F2EF\", width: \"85spx\" }} onClick={this.handleLogin} >\r\n                                        <span>Login</span>\r\n                                    </button>\r\n                                </div>\r\n\r\n                   \r\n                    \r\n                </div>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}