{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/components/diapicture.js\";\nimport React, { Component } from 'react';\nimport Files from \"./diapiccontent.js\";\nimport Full from \"./fullpic\";\nimport AuthService from \"../services/auth.service\"; //allows me to create a dialog box to pop up for adding students with names and emails.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Pic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = files => {\n      this.setState({\n        src: files\n      });\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.openFull = this.openFull.bind(this);\n    this.wrapperRef = /*#__PURE__*/React.createRef();\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.setWrapperRef = this.setWrapperRef;\n    this.state = {\n      current: AuthService.getCurrentUser(),\n      setIsOpen: false,\n      src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n      previewImage: undefined,\n      fullpic: false,\n      ad: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n\n    if (this.props.realusr) {\n      if (this.props.realusr.profilepic) {\n        const porfilePic = this.props.realusr.profilepic; //const porfilePic = 'http://localhost8080/api/' + this.props.realusr.profilepic;\n\n        this.setState({\n          src: porfilePic\n        });\n      } else {\n        this.setState({\n          src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n        });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n      this.props.handleClose();\n    }\n  }\n\n  openFull() {\n    this.setState({\n      fullpic: true\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      fullpic: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-box to-front\",\n      children: [this.state.fullpic && /*#__PURE__*/_jsxDEV(Full, {\n        handleClose: this.handleClose,\n        img: this.state.src\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 42\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"diapicbox\",\n        ref: this.wrapperRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close-icon-2\",\n            onClick: this.props.handleClose,\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Profile Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.src,\n            alt: \"profile-img-card\",\n            className: \" profile-img-card2 cropped1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.props.realusr ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: this.state.current.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Files, {\n                handleChange: this.handleChange,\n                usr: this.props.realusr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 72\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 67\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: this.props.realusr.role === \"student\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Files, {\n                  handleChange: this.handleChange,\n                  usr: this.props.realusr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 202\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 197\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Files, {\n                  handleChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 285\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 280\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 150\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 48\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Pic;","map":{"version":3,"sources":["/mnt/c/Users/taylo/source/react/Legato/sj2legato/savelegato/src/components/diapicture.js"],"names":["React","Component","Files","Full","AuthService","Pic","constructor","props","handleChange","files","setState","src","bind","openFull","wrapperRef","createRef","handleClickOutside","setWrapperRef","state","current","getCurrentUser","setIsOpen","previewImage","undefined","fullpic","ad","componentDidMount","document","addEventListener","realusr","profilepic","porfilePic","componentWillUnmount","removeEventListener","event","contains","target","handleClose","render","role"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB,C,CAEA;;;;AACA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AACxBK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkDnBC,YAlDmB,GAkDHC,KAAD,IAAW;AACtB,WAAKC,QAAL,CAAc;AACVC,QAAAA,GAAG,EAAEF;AADK,OAAd;AAIH,KAvDkB;;AAEf,SAAKD,YAAL,GAAoB,KAAKA,YAAL,CAAkBI,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,UAAL,gBAAkBd,KAAK,CAACe,SAAN,EAAlB;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBJ,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKK,aAAL,GAAqB,KAAKA,aAA1B;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAEf,WAAW,CAACgB,cAAZ,EADA;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTV,MAAAA,GAAG,EAAE,6CAHI;AAITW,MAAAA,YAAY,EAAEC,SAJL;AAKTC,MAAAA,OAAO,EAAE,KALA;AAMTC,MAAAA,EAAE,EAAE;AANK,KAAb;AASH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKZ,kBAA5C;;AAGA,QAAI,KAAKT,KAAL,CAAWsB,OAAf,EAAwB;AACpB,UAAI,KAAKtB,KAAL,CAAWsB,OAAX,CAAmBC,UAAvB,EAAmC;AAC/B,cAAMC,UAAU,GAAG,KAAKxB,KAAL,CAAWsB,OAAX,CAAmBC,UAAtC,CAD+B,CAG/B;;AAEA,aAAKpB,QAAL,CAAc;AAAEC,UAAAA,GAAG,EAAEoB;AAAP,SAAd;AAEH,OAPD,MAQK;AACD,aAAKrB,QAAL,CAAc;AACVC,UAAAA,GAAG,EAAE;AADK,SAAd;AAGH;AAEJ;AAGJ;;AACDqB,EAAAA,oBAAoB,GAAG;AACnBL,IAAAA,QAAQ,CAACM,mBAAT,CAA6B,WAA7B,EAA0C,KAAKjB,kBAA/C;AACH;;AACDA,EAAAA,kBAAkB,CAACkB,KAAD,EAAQ;AACtB,QAAI,KAAKpB,UAAL,IAAmB,CAAC,KAAKA,UAAL,CAAgBK,OAAhB,CAAwBgB,QAAxB,CAAiCD,KAAK,CAACE,MAAvC,CAAxB,EAAwE;AACpE,WAAK7B,KAAL,CAAW8B,WAAX;AACH;AACJ;;AAQDxB,EAAAA,QAAQ,GAAG;AACP,SAAKH,QAAL,CAAc;AACVc,MAAAA,OAAO,EAAE;AADC,KAAd;AAIH;;AACDa,EAAAA,WAAW,GAAE;AACb,SAAK3B,QAAL,CAAc;AACVc,MAAAA,OAAO,EAAE;AADC,KAAd;AAIH;;AAEGc,EAAAA,MAAM,GAAG;AACL,wBAEI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,iBACM,KAAKpB,KAAL,CAAWM,OAAX,iBAAuB,QAAC,IAAD;AAAM,QAAA,WAAW,EAAE,KAAKa,WAAxB;AAAqC,QAAA,GAAG,EAAE,KAAKnB,KAAL,CAAWP;AAArD;AAAA;AAAA;AAAA;AAAA,cAD7B,eAEI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAE,KAAKG,UAArC;AAAA,gCAGQ;AAAA,kCACJ;AAAM,YAAA,SAAS,EAAC,cAAhB;AAA+B,YAAA,OAAO,EAAE,KAAKP,KAAL,CAAW8B,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADI,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR,eAOK;AAAA,iCACD;AACI,YAAA,GAAG,EAAE,KAAKnB,KAAL,CAAWP,GADpB;AAEI,YAAA,GAAG,EAAC,kBAFR;AAGQ,YAAA,SAAS,EAAC;AAHlB;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,gBAPL,eAeI;AAAA,oBACK,KAAKJ,KAAL,CAAWsB,OAAX,gBAAsB;AAAA,sBAClB,KAAKX,KAAL,CAAWC,OAAX,CAAmBoB,IAAnB,KAA0B,OAA1B,gBAAqC;AAAA,qCAAK,QAAC,KAAD;AAAO,gBAAA,YAAY,EAAE,KAAK/B,YAA1B;AAAwC,gBAAA,GAAG,EAAE,KAAKD,KAAL,CAAWsB;AAAxD;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,oBAArC,gBAAwH;AAAA,wBAAM,KAAKtB,KAAL,CAAWsB,OAAX,CAAmBU,IAAnB,KAA4B,SAA5B,gBAAyC;AAAA,uCAAK,QAAC,KAAD;AAAO,kBAAA,YAAY,EAAE,KAAK/B,YAA1B;AAAwC,kBAAA,GAAG,EAAE,KAAKD,KAAL,CAAWsB;AAAxD;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,sBAAzC,gBAA4H;AAAA,uCAAK,QAAC,KAAD;AAAO,kBAAA,YAAY,EAAE,KAAKrB;AAA1B;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA;AAAlI;AAAA;AAAA;AAAA;AAAA;AADtG;AAAA;AAAA;AAAA;AAAA,kBAAtB,gBAGhB;AAAA;AAAA;AAAA;AAAA;AAJW;AAAA;AAAA;AAAA;AAAA,gBAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAiCH;;AAxGuB;;AA2G5B,eAAeH,GAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Files from \"./diapiccontent.js\";\r\nimport Full from \"./fullpic\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\n//allows me to create a dialog box to pop up for adding students with names and emails.\r\nclass Pic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.openFull = this.openFull.bind(this);\r\n        this.wrapperRef = React.createRef();\r\n        this.handleClickOutside = this.handleClickOutside.bind(this);\r\n        this.setWrapperRef = this.setWrapperRef;\r\n\r\n        this.state = {\r\n            current: AuthService.getCurrentUser(),\r\n            setIsOpen: false,\r\n            src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\r\n            previewImage: undefined,\r\n            fullpic: false,\r\n            ad: false,\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClickOutside);\r\n\r\n\r\n        if (this.props.realusr) {\r\n            if (this.props.realusr.profilepic) {\r\n                const porfilePic = this.props.realusr.profilepic;\r\n\r\n                //const porfilePic = 'http://localhost8080/api/' + this.props.realusr.profilepic;\r\n\r\n                this.setState({ src: porfilePic })\r\n\r\n            }\r\n            else {\r\n                this.setState({\r\n                    src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n                })\r\n            }\r\n            \r\n        }\r\n\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n    handleClickOutside(event) {\r\n        if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n            this.props.handleClose();\r\n        }\r\n    }\r\n\r\n    handleChange = (files) => {\r\n        this.setState({\r\n            src: files,\r\n\r\n        })\r\n    }\r\n    openFull() {\r\n        this.setState({\r\n            fullpic: true,\r\n\r\n        })\r\n    };\r\n    handleClose(){\r\n    this.setState({\r\n        fullpic: false,\r\n\r\n    })\r\n}\r\n\r\n    render() {\r\n        return (\r\n           \r\n            <div className=\"popup-box to-front\">\r\n                { this.state.fullpic && (<Full handleClose={this.handleClose} img={this.state.src}/>)}\r\n                <div className=\"diapicbox\" ref={this.wrapperRef}>\r\n\r\n                    \r\n                        <div>\r\n                    <span className=\"close-icon-2\" onClick={this.props.handleClose}>x</span>\r\n                        <h1>Profile Photo</h1>\r\n                    </div>\r\n                     <div >   \r\n                    <img\r\n                        src={this.state.src}\r\n                        alt=\"profile-img-card\"\r\n                            className=\" profile-img-card2 cropped1\"\r\n                        \r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        {this.props.realusr ? (<div>\r\n                            {this.state.current.role===\"admin\" ? (<div><Files handleChange={this.handleChange} usr={this.props.realusr} /></div>) : (<div>{this.props.realusr.role === \"student\" ? (<div><Files handleChange={this.handleChange} usr={this.props.realusr} /></div>) : (<div><Files handleChange={this.handleChange} /></div>)}\r\n</div>)}\r\n</div>):(<div></div>)}\r\n                    \r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default Pic;"]},"metadata":{},"sourceType":"module"}